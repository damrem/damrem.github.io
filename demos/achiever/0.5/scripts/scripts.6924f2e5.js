"use strict";angular.module("app",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","angular-gestures"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html"}).when("/about",{templateUrl:"views/about.html"}).otherwise({redirectTo:"/"})}]).config(["$logProvider",function(a){a.debugEnabled(!0)}]),angular.module("app").service("fibonacci",function(){var a=function(a){if(1>=a)return a;var b,c,d=0,e=1;for(c=2;a>=c;c+=1)b=d+e,d=e,e=b;return e};return{fromIndex:a,toIndex:function(b){if(1>=b)return b;for(var c=3;a(c)<=b;)c+=1;return c-1}}}),angular.module("app").service("fibonacciBiased",function(){function a(a){if(3>=a)return Math.max(0,a);var b,c,d=2,e=3;for(c=4;a>=c;c+=1)b=d+e,d=e,e=b;return e}function b(b){if(3>=b)return b;for(var c=4;a(c)<=b;)c+=1;return c-1}return{fromIndex:a,toIndex:b}}),angular.module("app").factory("levelConverter",["fibonacciBiased",function(a){function b(b,c){return a.fromIndex(b-1)*c}function c(b,c){return a.toIndex(Math.floor(b/c))+1}return{getValueFromLevel:b,getLevelFromValue:c}}]),function(){angular.module("app").controller("HeaderController",["$scope","$rootScope","$route","$location","$log",function(a,b,c,d,e){b.$on("$routeChangeSuccess",function(a,b){e.log("$routeChangeSuccess",b.originalPath);var c;switch(b.originalPath){case"/":c="home";break;case"/about":c="about"}angular.element("#home").removeClass("active"),angular.element("#about").removeClass("active"),angular.element("#"+c).addClass("active")})}])}(),angular.module("app").controller("SuperController",["$scope","$cookies","$timeout","levelConverter","$log",function(a,b,c,d,e){function f(){return d.getLevelFromValue(a.total,a.factor)}function g(){return f()+1}var h=function(){a.level=f()},i=function(){a.totalInLevel=d.getValueFromLevel(g(),a.factor)-d.getValueFromLevel(f(),a.factor)},j=function(){h(),i()},k=function(){b[a.propName]=a.total},l=function(){a.levelClass="level-up-leave",void 0===b[a.propName]&&(b[a.propName]=0),a.total=parseInt(b[a.propName],10),j(),a.currentInLevel=a.total-d.getValueFromLevel(f(),a.factor)};a.increment=function(b){a.total+=b,k(),a.currentInLevel+=b,a.currentInLevel>=a.totalInLevel&&(a.levelClass="level-up-enter",e.info(a.levelClass),c(function(){a.currentInLevel=0,j(),a.levelClass="level-up-leave",e.info(a.levelClass)},100))},l()}]),angular.module("app").controller("TimeController",["$scope","$interval","$cookies","levelConverter","$controller","$log",function(a,b,c,d,e,f){f.log("TimeController"),a.title="Time",a.unit="secs",a.factor=10,a.propName="timeElapsed",a.icon="images/time.gif",e("SuperController",{$scope:a,$cookies:c,levelConverter:d}),b(function(){a.increment(1)},1e3)}]),angular.module("app").controller("UserListener",["$scope","$window","$log",function(a,b,c){a.moveIsSwipe=!1,a.onMove=function(b){c.log("onMove("+b),void 0===b?a.moveIsSwipe||a.$broadcast("moved"):(a.moveIsSwipe=!0,a.$broadcast("moved"))},a.onRelease=function(b){c.log("onRelease("+b),a.moveIsSwipe=!1,a.$broadcast("released")},a.onKeyup=function(b){c.log("onKeyup("+b),a.$broadcast("typed")}}]),angular.module("app").controller("ClickController",["$scope","$cookies","levelConverter","$controller","$log",function(a,b,c,d,e){e.log("ClickController"),a.title="Click",a.unit="clicks",a.factor=2,a.propName="nbClicks",a.icon="images/click.gif",d("SuperController",{$scope:a,$cookies:b,levelConverter:c}),a.$on("released",function(){a.increment(1)})}]),angular.module("app").controller("TypeController",["$scope","$cookies","levelConverter","$controller","$log",function(a,b,c,d,e){e.log("TypeController"),a.title="Type",a.unit="keys",a.factor=5,a.propName="nbTypes",a.icon="images/type.gif",d("SuperController",{$scope:a,$cookies:b,levelConverter:c}),a.$on("typed",function(){a.increment(1)})}]),angular.module("app").controller("MouseMoveController",["$scope","$cookies","levelConverter","$controller","$log",function(a,b,c,d,e){e.log("MouseMoveController"),a.title="Move",a.unit="px",a.factor=500,a.propName="nbMoves",a.icon="images/move.gif",d("SuperController",{$scope:a,$cookies:b,levelConverter:c}),a.$on("moved",function(){a.increment(1)})}]),angular.module("app").controller("ScrollController",["$scope","$window","$cookies","$controller","levelConverter","$log",function(a,b,c,d,e,f){f.log("ScrollController"),a.title="Scroll",a.unit="px",a.factor=500,a.propName="scrollYDistance",a.icon="images/scroll.gif";var g=b.scrollY;d("SuperController",{$scope:a,$cookies:c,levelConverter:e}),b.onscroll=function(){a.increment(Math.abs(b.scrollY-g)),g=b.scrollY}}]),angular.module("app").directive("achvrBlock",["$parse","$log",function(a,b){return b.debug("directive achvrBlock"),{templateUrl:"views/block.html",compile:function(){return function(a,c,d){b.debug("attrs="+d),a.title=d.blockTitle,a.factor=d.blockFactor}}}}]),angular.module("app").filter("ddhhmmss",function(){return function(a){var b,c,d,e,f,g,h,i,j="",k="";return b=c=a%60,10>c&&(c="0"+c),a-=c,d=e=Math.floor(a/60)%60,10>e&&(e="0"+e),a-=60*e,f=g=Math.floor(a/60/60)%24,10>g&&(g="0"+g),a-=60*g*60,h=i=Math.floor(a/60/60/24),j+=c,k+="seconds: "+j+"........",("00"!==e||f>0||h>0)&&(j=e+":"+j,k+="minutes: "+j+"........"),("00"!==g||h>0)&&(j=g+":"+j,k+="hours: "+j+"........"),h>0&&(j=i+":"+j,k+="days: "+j+"........"),"0"===j.charAt(0)&&":"!==j.charAt(1)&&(j=j.substring(1,j.length),k+="trim: "+j+"........"),j}});